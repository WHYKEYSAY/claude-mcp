════════════════════════════════════════════════════════════════════════════════
                  CLAUDE CODE QUOTA-OPTIMIZED REFERENCE (v1.3)
════════════════════════════════════════════════════════════════════════════════

🚀 快速启动方式
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Windows:
  > claude-optimized.bat
  或
  > claude

Linux/Mac:
  $ bash claude-optimized.sh
  或
  $ claude

════════════════════════════════════════════════════════════════════════════════

📋 核心原则 (3 Steps)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  烧Gemini的免费配额 (1,500/天) 🔥
    ↓
  保护Claude的上下文 (200k) 🛡️
    ↓
  合理使用Codex的配额 (5小时制) ⏱️

════════════════════════════════════════════════════════════════════════════════

👥 角色分配 & 配额
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🏗️  CLAUDE (The Architect)
    ├─ 职责: 文件操作、代码编写、项目管理
    ├─ 配额: 200k 上下文窗口
    ├─ 成本: 昂贵 💰
    └─ 策略: 保护! 仅用于文件操作

🔍 GEMINI (The Scout) - @gemini
    ├─ 职责: 信息查询、文档查找、错误分析
    ├─ 配额: ~1,500 请求/天
    ├─ 成本: 免费 ✅
    └─ 策略: 优先使用，大量烧掉!

🔬 CODEX (The Auditor) - @codex
    ├─ 职责: 逻辑审查、安全审计、边界情况检测
    ├─ 配额: 300-1500 消息/5小时
    ├─ 成本: 按量计费 ⏱️
    └─ 策略: 保留给关键任务，谨慎使用

════════════════════════════════════════════════════════════════════════════════

🔄 场景路由 (快速决策)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

场景1: 我需要查文档/错误/最佳实践
  → 用 @gemini
  → 命令: "@gemini search for [topic]"
  → 成本: 1 req (免费) ✅

场景2: 我需要修改/创建/重构代码文件
  → 用 Claude (我)
  → 命令: 直接描述任务
  → 成本: ~500-2000 tokens (受保护)

场景3: 我需要检查代码有没有 Bug/安全问题
  → 用 @codex
  → 命令: "@codex review [file] for [concerns]"
  → 成本: 1 msg (保留配额)

════════════════════════════════════════════════════════════════════════════════

📊 优先级决策矩阵
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

需要文件操作?          → Claude (我)
  ├─ 读文件            → Claude
  ├─ 写文件            → Claude
  ├─ 编辑代码          → Claude
  └─ 执行命令          → Claude

需要查资料?            → @gemini
  ├─ 最新文档          → @gemini
  ├─ API文档           → @gemini
  ├─ 错误解决方案      → @gemini
  └─ 框架对比          → @gemini

需要审查逻辑?          → @codex
  ├─ 竞争条件          → @codex
  ├─ 内存泄漏          → @codex
  ├─ 安全漏洞          → @codex
  └─ 边界情况          → @codex

════════════════════════════════════════════════════════════════════════════════

💬 对话模板 (Copy & Paste)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

模板1: 查资料 (烧Gemini)
  @gemini search for [Library X] latest documentation and summarize breaking changes

模板2: 实现代码 (用Claude)
  Create a [component/module/function] that does [task]. Save to [file path].

模板3: 研究 + 实现 (3-Step Trifecta)
  Step A: @gemini search for [topic] and summarize
  Step B: Using that, create [files/code]
  Step C: @codex review for [concerns]

模板4: 代码审查 (用Codex)
  @codex review [file] for race conditions, memory leaks, and edge cases

════════════════════════════════════════════════════════════════════════════════

⚡ 配额守护规则
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 应该做:
  • 大量使用 @gemini (1,500/天是免费的!)
  • 让Gemini总结文档，而不是粘贴整个文档给Claude
  • 仅用Claude做文件操作
  • 保存Codex做关键逻辑审查

❌ 不应该做:
  • 不要浪费Claude的上下文在资料收集上
  • 不要让Codex做简单的代码格式化
  • 不要频繁查询同样的东西
  • 不要用Gemini做需要修改文件的任务

════════════════════════════════════════════════════════════════════════════════

📌 MCP命令速查
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

/mcp                    查看所有MCP服务器
/mcp list               列出详细配置
/mcp enable gemini      启用Gemini
/mcp disable codex      禁用Codex
@gemini [prompt]        使用Gemini
@codex [prompt]         使用Codex

════════════════════════════════════════════════════════════════════════════════

🎯 检查清单 (每次开始任务)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

□ 这是查资料吗?       → 用 @gemini
□ 需要文件操作吗?     → 用 Claude
□ 复杂逻辑审查吗?     → 用 @codex
□ 能让Gemini总结吗?   → 是的，这样节省Claude的上下文

════════════════════════════════════════════════════════════════════════════════

📞 快速启动指令
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

方式1: 每次都启动优化模式
  Windows: > claude-optimized.bat

方式2: 在Claude中说这句话
  "激活配额优化模式"
  或
  "进入三巨头架构工作流"

方式3: 我自动识别
  如果你清楚描述任务，我会自动进入这个模式

════════════════════════════════════════════════════════════════════════════════

📊 资源使用示例
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

任务: "设计一个Rust异步Web服务器，带速率限制"

Step A: 研究 (用Gemini)
  @gemini search for Rust tokio rate limiting 2025 best practices
  成本: 1 req (免费)

Step B: 实现 (用Claude)
  创建 server.rs 和配置文件
  成本: ~500 tokens (保护中)

Step C: 审查 (用Codex)
  @codex review server.rs for race conditions
  成本: 1 msg (保留配额)

总成本: 1 Gemini + 500 tokens + 1 Codex = 高效! ✅

════════════════════════════════════════════════════════════════════════════════

版本: v1.3 - QUOTA-OPTIMIZED RELEASE
更新时间: 2025-12-10
状态: 🟢 就绪

════════════════════════════════════════════════════════════════════════════════
